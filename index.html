<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ 2026å¹´ æ–°æ˜¥ãŠã¿ãã˜ ğŸ</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;700;900&family=Zen+Maru+Gothic:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* ========================================
           2026å¹´ æ–°æ˜¥ãŠã¿ãã˜ã‚¢ãƒ—ãƒª ã‚¹ã‚¿ã‚¤ãƒ«
           ãƒªãƒƒãƒãªãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒï¼‹å’Œãƒ¢ãƒ€ãƒ³ãƒ‡ã‚¶ã‚¤ãƒ³
        ======================================== */
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            /* å’Œé¢¨ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ */
            --gold: #D4AF37;
            --gold-light: #F5E6A3;
            --crimson: #C41E3A;
            --sakura: #FFB7C5;
            --midnight: #0a0a1a;
            --deep-purple: #1a0a2e;
            --accent-blue: #4a9eff;
            --white: #fefefe;
        }
        
        body {
            font-family: 'Zen Maru Gothic', 'Noto Serif JP', serif;
            background: linear-gradient(135deg, var(--midnight) 0%, var(--deep-purple) 50%, #1a0520 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow-x: hidden;
            position: relative;
        }
        
        /* èƒŒæ™¯ã®è£…é£¾ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ« */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 0;
        }
        
        .particle {
            position: absolute;
            background: radial-gradient(circle, var(--gold-light) 0%, transparent 70%);
            border-radius: 50%;
            animation: float 15s infinite ease-in-out;
            opacity: 0.3;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0.3; }
            50% { transform: translateY(-100px) rotate(180deg); opacity: 0.6; }
        }
        
        /* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒŠ */
        .container {
            text-align: center;
            z-index: 10;
            padding: 2rem;
            max-width: 500px;
            width: 95%;
        }
        
        /* ã‚¿ã‚¤ãƒˆãƒ« */
        .title {
            font-family: 'Noto Serif JP', serif;
            font-size: 2.8rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-light) 50%, var(--gold) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 40px rgba(212, 175, 55, 0.5);
            margin-bottom: 0.5rem;
            animation: shimmer 3s infinite;
        }
        
        @keyframes shimmer {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.3); }
        }
        
        .subtitle {
            color: var(--sakura);
            font-size: 1.2rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }
        
        .year-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--crimson), #8B0000);
            color: var(--gold-light);
            padding: 0.5rem 1.5rem;
            border-radius: 30px;
            font-weight: 700;
            margin-bottom: 2rem;
            box-shadow: 0 4px 20px rgba(196, 30, 58, 0.4);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        /* ãŠã¿ãã˜ãƒœãƒƒã‚¯ã‚¹ */
        .omikuji-box {
            background: linear-gradient(145deg, rgba(30, 20, 50, 0.9), rgba(10, 10, 30, 0.95));
            border: 2px solid var(--gold);
            border-radius: 20px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: 
                0 0 30px rgba(212, 175, 55, 0.2),
                inset 0 0 60px rgba(212, 175, 55, 0.05);
            position: relative;
            overflow: hidden;
        }
        
        .omikuji-box::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(212, 175, 55, 0.1) 0%, transparent 50%);
            animation: rotate 20s linear infinite;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* ãŠã¿ãã˜ã‚’å¼•ããƒœã‚¿ãƒ³ */
        .draw-button {
            position: relative;
            z-index: 5;
            background: linear-gradient(135deg, var(--crimson), #8B0000);
            color: var(--white);
            border: none;
            padding: 1.2rem 3rem;
            font-size: 1.4rem;
            font-family: 'Noto Serif JP', serif;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 
                0 6px 20px rgba(196, 30, 58, 0.5),
                0 0 40px rgba(196, 30, 58, 0.3);
        }
        
        .draw-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 
                0 10px 30px rgba(196, 30, 58, 0.6),
                0 0 60px rgba(196, 30, 58, 0.4);
        }
        
        .draw-button:active {
            transform: translateY(0) scale(0.98);
        }
        
        .draw-button.shaking {
            animation: shake 0.5s ease-in-out;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0) rotate(0deg); }
            25% { transform: translateX(-10px) rotate(-5deg); }
            75% { transform: translateX(10px) rotate(5deg); }
        }
        
        /* çµæœè¡¨ç¤ºã‚¨ãƒªã‚¢ */
        .result-area {
            display: none;
            position: relative;
            z-index: 5;
            animation: fadeInUp 0.8s ease-out;
        }
        
        .result-area.show {
            display: block;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* é‹å‹¢ã®å¤§ããªè¡¨ç¤º */
        .fortune-main {
            font-family: 'Noto Serif JP', serif;
            font-size: 5rem;
            font-weight: 900;
            margin: 1rem 0;
            text-shadow: 0 0 30px currentColor;
            animation: glow 2s infinite alternate;
        }
        
        @keyframes glow {
            from { filter: brightness(1) drop-shadow(0 0 10px currentColor); }
            to { filter: brightness(1.2) drop-shadow(0 0 30px currentColor); }
        }
        
        .fortune-main.daikichi { color: #FFD700; }
        .fortune-main.chuukichi { color: #FF8C00; }
        .fortune-main.kichi { color: #32CD32; }
        .fortune-main.shoukichi { color: #87CEEB; }
        .fortune-main.suekichi { color: #DDA0DD; }
        .fortune-main.kyou { color: #DC143C; }
        
        .fortune-message {
            color: var(--white);
            font-size: 1.1rem;
            line-height: 1.8;
            margin: 1.5rem 0;
            opacity: 0.9;
        }
        
        /* è©³ç´°é‹å‹¢ */
        .fortune-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        .fortune-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(212, 175, 55, 0.3);
            border-radius: 12px;
            padding: 1rem;
            transition: transform 0.3s ease, border-color 0.3s ease;
        }
        
        .fortune-item:hover {
            transform: translateY(-3px);
            border-color: var(--gold);
        }
        
        .fortune-item-label {
            color: var(--gold);
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
        }
        
        .fortune-item-value {
            color: var(--white);
            font-size: 1.1rem;
            font-weight: 700;
        }
        
        .fortune-item-stars {
            color: var(--gold-light);
            font-size: 1rem;
            letter-spacing: 2px;
        }
        
        /* ãƒ©ãƒƒã‚­ãƒ¼ã‚¢ã‚¤ãƒ†ãƒ  */
        .lucky-section {
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(212, 175, 55, 0.3);
        }
        
        .lucky-title {
            color: var(--sakura);
            font-size: 1rem;
            margin-bottom: 1rem;
        }
        
        .lucky-items {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }
        
        .lucky-item {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.2), rgba(212, 175, 55, 0.05));
            border: 1px solid var(--gold);
            border-radius: 10px;
            padding: 0.8rem 1.2rem;
            text-align: center;
        }
        
        .lucky-item-emoji {
            font-size: 1.5rem;
            display: block;
            margin-bottom: 0.3rem;
        }
        
        .lucky-item-text {
            color: var(--gold-light);
            font-size: 0.85rem;
        }
        
        /* ã‚‚ã†ä¸€åº¦å¼•ããƒœã‚¿ãƒ³ */
        .retry-button {
            background: transparent;
            color: var(--gold);
            border: 2px solid var(--gold);
            padding: 0.8rem 2rem;
            font-size: 1rem;
            font-family: 'Zen Maru Gothic', sans-serif;
            border-radius: 30px;
            cursor: pointer;
            margin-top: 2rem;
            transition: all 0.3s ease;
        }
        
        .retry-button:hover {
            background: var(--gold);
            color: var(--midnight);
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.5);
        }
        
        /* ãƒ•ãƒƒã‚¿ãƒ¼ */
        .footer {
            color: rgba(255, 255, 255, 0.4);
            font-size: 0.8rem;
            margin-top: 2rem;
            z-index: 10;
        }
        
        /* ç´™å¹é›ªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå¤§å‰æ™‚ï¼‰ */
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            top: -10px;
            z-index: 100;
            animation: confetti-fall 4s linear forwards;
        }
        
        @keyframes confetti-fall {
            to {
                top: 100vh;
                transform: rotate(720deg);
            }
        }
        
        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
        @media (max-width: 480px) {
            .title {
                font-size: 2rem;
            }
            
            .fortune-main {
                font-size: 3.5rem;
            }
            
            .fortune-details {
                grid-template-columns: 1fr;
            }
            
            .omikuji-box {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- èƒŒæ™¯ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ« -->
    <div class="particles" id="particles"></div>
    
    <div class="container">
        <h1 class="title">ğŸ æ–°æ˜¥ãŠã¿ãã˜ ğŸ</h1>
        <p class="subtitle">ä»Šå¹´ã®é‹å‹¢ã‚’å ã„ã¾ã—ã‚‡ã†</p>
        <div class="year-badge">ğŸ´ 2026å¹´ åˆå¹´ ğŸ´</div>
        
        <div class="omikuji-box">
            <!-- ãŠã¿ãã˜ã‚’å¼•ãå‰ -->
            <div id="beforeDraw">
                <p style="color: var(--white); margin-bottom: 1.5rem; font-size: 1.1rem; position: relative; z-index: 5;">
                    å¿ƒã‚’è½ã¡ç€ã‘ã¦<br>ãŠã¿ãã˜ã‚’ãŠå¼•ããã ã•ã„
                </p>
                <button class="draw-button" id="drawButton" onclick="drawOmikuji()">
                    ğŸ‹ ãŠã¿ãã˜ã‚’å¼•ã ğŸ‹
                </button>
            </div>
            
            <!-- çµæœè¡¨ç¤º -->
            <div class="result-area" id="resultArea">
                <div class="fortune-main" id="fortuneMain"></div>
                <p class="fortune-message" id="fortuneMessage"></p>
                
                <div class="fortune-details" id="fortuneDetails"></div>
                
                <div class="lucky-section">
                    <p class="lucky-title">âœ¨ ãƒ©ãƒƒã‚­ãƒ¼ã‚¢ã‚¤ãƒ†ãƒ  âœ¨</p>
                    <div class="lucky-items" id="luckyItems"></div>
                </div>
                
                <button class="retry-button" onclick="resetOmikuji()">
                    ğŸ”„ ã‚‚ã†ä¸€åº¦å¼•ã
                </button>
            </div>
        </div>
    </div>
    
    <p class="footer">Â© 2026 æ–°æ˜¥ãŠã¿ãã˜ - ç´ æ•µãªä¸€å¹´ã«ãªã‚Šã¾ã™ã‚ˆã†ã« ğŸŒ¸</p>
    
    <script>
        /* ========================================
           2026å¹´ æ–°æ˜¥ãŠã¿ãã˜ã‚¢ãƒ—ãƒª ãƒ­ã‚¸ãƒƒã‚¯
        ======================================== */
        
        // é‹å‹¢ãƒ‡ãƒ¼ã‚¿
        const fortunes = [
            {
                type: 'å¤§å‰',
                class: 'daikichi',
                message: 'æœ€é«˜ã®é‹å‹¢ã§ã™ï¼2026å¹´ã¯å¤©ã«æ˜‡ã‚‹é¦¬ã®ã‚ˆã†ã«ã€ä½•äº‹ã‚‚ã‚¹ãƒ”ãƒ¼ãƒ‡ã‚£ãƒ¼ã«æˆå°±ã—ã¾ã™ã€‚',
                probability: 10
            },
            {
                type: 'ä¸­å‰',
                class: 'chuukichi',
                message: 'ã¨ã¦ã‚‚è‰¯ã„é‹å‹¢ã§ã™ã€‚æ—¥ã€…ã®åŠªåŠ›ãŒå®Ÿã‚’çµã¶ä¸€å¹´ã«ãªã‚‹ã§ã—ã‚‡ã†ã€‚å‘¨å›²ã¨ã®èª¿å’Œã‚’å¤§åˆ‡ã«ã™ã‚‹ã¨ã€ã•ã‚‰ãªã‚‹å¹¸é‹ãŒè¨ªã‚Œã¾ã™ã€‚',
                probability: 20
            },
            {
                type: 'å‰',
                class: 'kichi',
                message: 'è‰¯ã„é‹å‹¢ã§ã™ã€‚å®‰å®šã—ãŸä¸€å¹´ã«ãªã‚Šãã†ã§ã™ã€‚ç„¦ã‚‰ãšç€å®Ÿã«æ­©ã¿ã‚’é€²ã‚ã‚Œã°ã€ç¢ºã‹ãªæˆæœãŒå¾—ã‚‰ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚',
                probability: 30
            },
            {
                type: 'å°å‰',
                class: 'shoukichi',
                message: 'ã¾ãšã¾ãšã®é‹å‹¢ã§ã™ã€‚å°ã•ãªå¹¸ã›ã‚’å¤§åˆ‡ã«ã—ã¾ã—ã‚‡ã†ã€‚æ„Ÿè¬ã®æ°—æŒã¡ã‚’å¿˜ã‚Œãªã‘ã‚Œã°ã€é‹æ°—ã¯ä¸Šå‘ãã«ãªã‚Šã¾ã™ã€‚',
                probability: 25
            },
            {
                type: 'æœ«å‰',
                class: 'suekichi',
                message: 'å¾ã€…ã«é‹æ°—ãŒä¸ŠãŒã£ã¦ã„ãã¾ã™ã€‚å¹´ã®å¾ŒåŠã«å‘ã‘ã¦è‰¯ã„ã“ã¨ãŒèµ·ã“ã‚Šãã†ã§ã™ã€‚ä»Šã¯åŠ›ã‚’è“„ãˆã‚‹æ™‚æœŸã§ã™ã€‚',
                probability: 10
            },
            {
                type: 'å‡¶',
                class: 'kyou',
                message: 'æ³¨æ„ãŒå¿…è¦ãªæ™‚æœŸã§ã™ãŒã€å¿ƒé…ã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚æ…é‡ã«è¡Œå‹•ã—ã€å‘¨å›²ã®åŠ©è¨€ã«è€³ã‚’å‚¾ã‘ã‚Œã°ã€é›£ã‚’é€ƒã‚Œã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚',
                probability: 5
            }
        ];
        
        // å„ã‚«ãƒ†ã‚´ãƒªã®é‹å‹¢
        const categories = {
            love: {
                label: 'ğŸ’• æ‹æ„›é‹',
                options: ['æœ€é«˜æ½®', 'é †èª¿', 'è‰¯å¥½', 'ã¾ã‚ã¾ã‚', 'ç™ºå±•ä¸­', 'é™è¦³ã‚’']
            },
            work: {
                label: 'ğŸ’¼ ä»•äº‹é‹',
                options: ['å¤§æˆåŠŸ', 'å¥½èª¿', 'å®‰å®š', 'åŠªåŠ›æ¬¡ç¬¬', 'æˆé•·æœŸ', 'å¿è€ã‚’']
            },
            health: {
                label: 'ğŸƒ å¥åº·é‹',
                options: ['çµ¶å¥½èª¿', 'å…ƒæ°—', 'è‰¯å¥½', 'æ™®é€š', 'ä¼‘æ¯ã‚’', 'è¦æ³¨æ„']
            },
            money: {
                label: 'ğŸ’° é‡‘é‹',
                options: ['å¤§é‡‘é‹', 'ä¸Šæ˜‡ä¸­', 'å®‰å®š', 'æ™®é€š', 'ç¯€ç´„ã‚’', 'æ…é‡ã«']
            },
            study: {
                label: 'ğŸ“š å­¦æ¥­é‹',
                options: ['å¤©æ‰çš„', 'å¥½èª¿', 'é›†ä¸­å‰', 'æ™®é€š', 'å¾©ç¿’ã‚’', 'åŸºç¤å›ºã‚']
            },
            travel: {
                label: 'âœˆï¸ æ—…è¡Œé‹',
                options: ['æœ€é«˜', 'å‰æ–¹ä½å¤š', 'è‰¯å¥½', 'æ™®é€š', 'è¿‘å ´ãŒâ—', 'æ§ãˆã‚ã«']
            }
        };
        
        // ãƒ©ãƒƒã‚­ãƒ¼ã‚¢ã‚¤ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿
        const luckyColors = ['èµ¤', 'é‡‘', 'ç™½', 'ç´«', 'é’', 'ç·‘', 'é»„', 'ã‚ªãƒ¬ãƒ³ã‚¸', 'ãƒ”ãƒ³ã‚¯', 'é»’'];
        const luckyNumbers = ['3', '7', '8', '9', '11', '22', '33', '77', '88', '108'];
        const luckyDirections = ['æ±', 'è¥¿', 'å—', 'åŒ—', 'æ±å—', 'åŒ—è¥¿', 'å—è¥¿', 'æ±åŒ—'];
        const luckyItems = ['é¡', 'æ¤ç‰©', 'æ°´æ™¶', 'æ‰‹å¸³', 'æ™‚è¨ˆ', 'ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼', 'æœ¬', 'å‚˜', 'ãŠå®ˆã‚Š', 'å†™çœŸ'];
        const luckyFoods = ['ãŠé¤…', 'è•éº¦', 'å¯¿å¸', 'ã†ãªã', 'æŠ¹èŒ¶', 'ã‚Šã‚“ã”', 'ã¿ã‹ã‚“', 'æ —', 'æµ·è€', 'é¯›'];
        
        // èƒŒæ™¯ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ç”Ÿæˆ
        function createParticles() {
            const container = document.getElementById(\'particles\');
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement(\'div\');
                particle.className = \'particle\';
                particle.style.width = Math.random() * 100 + 50 + \'px\';
                particle.style.height = particle.style.width;
                particle.style.left = Math.random() * 100 + \'%\';
                particle.style.top = Math.random() * 100 + \'%\';
                particle.style.animationDelay = Math.random() * 10 + \'s\';
                particle.style.animationDuration = 10 + Math.random() * 10 + \'s\';
                container.appendChild(particle);
            }
        }
        
        // ç´™å¹é›ªã‚¨ãƒ•ã‚§ã‚¯ãƒˆï¼ˆå¤§å‰æ™‚ï¼‰
        function createConfetti() {
            const colors = [\'#FFD700\', \'#FF6B6B\', \'#4ECDC4\', \'#FFE66D\', \'#FF8C94\', \'#A8E6CF\'];
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement(\'div\');
                    confetti.className = \'confetti\';
                    confetti.style.left = Math.random() * 100 + \'%\';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.borderRadius = Math.random() > 0.5 ? \'50%\' : \'0\';
                    confetti.style.animationDuration = 3 + Math.random() * 2 + \'s\';
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => confetti.remove(), 5000);
                }, i * 50);
            }
        }
        
        // ãƒ©ãƒ³ãƒ€ãƒ é¸æŠãƒ˜ãƒ«ãƒ‘ãƒ¼
        function randomPick(array) {
            return array[Math.floor(Math.random() * array.length)];
        }
        
        // é‡ã¿ä»˜ããƒ©ãƒ³ãƒ€ãƒ é¸æŠ
        function weightedRandomPick(items) {
            const totalWeight = items.reduce((sum, item) => sum + item.probability, 0);
            let random = Math.random() * totalWeight;
            
            for (const item of items) {
                random -= item.probability;
                if (random <= 0) return item;
            }
            return items[items.length - 1];
        }
        
        // æ˜Ÿè©•ä¾¡ã‚’ç”Ÿæˆ
        function generateStars(maxStars = 5) {
            const filled = Math.floor(Math.random() * maxStars) + 1;
            return \'â˜…\'.repeat(filled) + \'â˜†\'.repeat(maxStars - filled);
        }
        
        // é‹å‹¢ã«å¿œã˜ãŸæ˜Ÿã®æ•°ã‚’æ±ºå®š
        function getStarsForFortune(fortuneType, category) {
            const baseStars = {
                \'å¤§å‰\': { min: 4, max: 5 },
                \'ä¸­å‰\': { min: 3, max: 5 },
                \'å‰\': { min: 3, max: 4 },
                \'å°å‰\': { min: 2, max: 4 },
                \'æœ«å‰\': { min: 2, max: 3 },
                \'å‡¶\': { min: 1, max: 3 }
            };
            
            const range = baseStars[fortuneType] || { min: 2, max: 4 };
            const stars = Math.floor(Math.random() * (range.max - range.min + 1)) + range.min;
            return \'â˜…\'.repeat(stars) + \'â˜†\'.repeat(5 - stars);
        }
        
        // ãŠã¿ãã˜ã‚’å¼•ã
        function drawOmikuji() {
            const button = document.getElementById(\'drawButton\');
            button.classList.add(\'shaking\');
            button.disabled = true;
            
            // ã‚·ã‚§ã‚¤ã‚¯ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å¾Œã«çµæœè¡¨ç¤º
            setTimeout(() => {
                button.classList.remove(\'shaking\');
                showResult();
            }, 600);
        }
        
        // çµæœè¡¨ç¤º
        function showResult() {
            const fortune = weightedRandomPick(fortunes);
            
            // ãƒ¡ã‚¤ãƒ³é‹å‹¢
            const fortuneMain = document.getElementById(\'fortuneMain\');
            fortuneMain.textContent = fortune.type;
            fortuneMain.className = \'fortune-main \' + fortune.class;
            
            // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
            document.getElementById(\'fortuneMessage\').textContent = fortune.message;
            
            // è©³ç´°é‹å‹¢
            const detailsContainer = document.getElementById(\'fortuneDetails\');
            detailsContainer.innerHTML = \'\';
            
            Object.entries(categories).forEach(([key, cat]) => {
                const item = document.createElement(\'div\');
                item.className = \'fortune-item\';
                item.innerHTML = `
                    <div class="fortune-item-label">${cat.label}</div>
                    <div class="fortune-item-stars">${getStarsForFortune(fortune.type, key)}</div>
                `;
                detailsContainer.appendChild(item);
            });
            
            // ãƒ©ãƒƒã‚­ãƒ¼ã‚¢ã‚¤ãƒ†ãƒ 
            const luckyContainer = document.getElementById(\'luckyItems\');
            luckyContainer.innerHTML = `
                <div class="lucky-item">
                    <span class="lucky-item-emoji">ğŸ¨</span>
                    <span class="lucky-item-text">è‰²: ${randomPick(luckyColors)}</span>
                </div>
                <div class="lucky-item">
                    <span class="lucky-item-emoji">ğŸ”¢</span>
                    <span class="lucky-item-text">æ•°å­—: ${randomPick(luckyNumbers)}</span>
                </div>
                <div class="lucky-item">
                    <span class="lucky-item-emoji">ğŸ§­</span>
                    <span class="lucky-item-text">æ–¹è§’: ${randomPick(luckyDirections)}</span>
                </div>
                <div class="lucky-item">
                    <span class="lucky-item-emoji">ğŸ€</span>
                    <span class="lucky-item-text">${randomPick(luckyItems)}</span>
                </div>
                <div class="lucky-item">
                    <span class="lucky-item-emoji">ğŸ´</span>
                    <span class="lucky-item-text">${randomPick(luckyFoods)}</span>
                </div>
            `;
            
            // è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ
            document.getElementById(\'beforeDraw\').style.display = \'none\';
            document.getElementById(\'resultArea\').classList.add(\'show\');
            
            // å¤§å‰ã®å ´åˆã¯ç´™å¹é›ª
            if (fortune.type === \'å¤§å‰\') {
                createConfetti();
            }
        }
        
        // ãƒªã‚»ãƒƒãƒˆ
        function resetOmikuji() {
            document.getElementById(\'beforeDraw\').style.display = \'block\';
            document.getElementById(\'resultArea\').classList.remove(\'show\');
            document.getElementById(\'drawButton\').disabled = false;
        }
        
        // åˆæœŸåŒ–
        document.addEventListener(\'DOMContentLoaded\', () => {
            createParticles();
        });
    </script>
</body>
</html>
